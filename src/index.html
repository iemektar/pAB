<!DOCTYPE html>
<html>
   <head>
      <meta charset="UTF-8">
      <title>pAB'</title>
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
      <link rel="stylesheet" href="./styles.css" />
<script src="./jquery.min.js" ></script>
      <script>window.$ = window.jQuery = require('jquery');</script>
   </head>
   <body>
      <div class="d-flex flex-column min-vh-100 justify-content-center align-items-center">
         <div class="container-fluid">
            <!--CONNECT CONTENT-->
            <div class="row justify-content-center">
               <div class="col-10">
                  <div class="card rounded-10 p-0">
                     <div class="card-body">
                        <div class="row justify-content-left align-items-center mb-4">
                           <div class="col-12">
                              <img  width="355" height="105" src="./assets/logo.png" class=" pl-0 ml-0">
                           </div>
                        </div>



                        <!--CONNECT CONTENT-->
                        <div id="connectDeviceContainer">
                           <div class="row justify-content-center align-items-center">
                              <div class="col-9">
                                 <select id="deviceList" class="form-select form-select-sm  pl-0 ml-0 rounded-5">
                                    <option value="0" selected>- Select -</option>
                                    <!-- <option value="1">- Select 2 -</option> -->
                                 </select>
                              </div>
                              <div class="col-3">
                                 <div class="d-grid gap-2">
                                    <button type="button" id="listButton" onclick="listDevice()" class="btn btn-primary btn-sm rounded-5">List</button>
                                 </div>
                              </div>
                           </div>
                           <div class="row justify-content-center align-items-center mt-2">
                              <div class="d-grid gap-2">
                                 <button type="button" id="connectButton" onclick="connectToDevice()" class="btn btn-success btn-sm rounded-5" disabled>
                                    <div id="connectButtonText">Connect To Device</div>
                                    <div id="connectButtonLoading" hidden>
                                       <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                                       &nbsp;Please wait...
                                    </div>
                                 </button>
                              </div>
                           </div>
                        </div>



                        <!--KEY BUTTONS-->
                        <div id="buttonKeysContainer" hidden>
                           <div class="row">
                              <div class="col-12 mb-3">
                                 <div class="form-floating">
                                    <select id="keyboardContainer" class="form-select form-select-sm  rounded-5"></select>
                                    <label for="keyboardContainer">Choose a Keyboard Layout</label>
                                 </div>
                              </div>
                           </div>
                           <div class="row">
                              <div class="col-4 d-grid gap-2">
                                 <button type="button" class="btn btn-outline-dark rounded-10 button" onclick="editButton(1)">
                                 <strong class="display-1">1</strong>
                                 </button>
                              </div>
                              <div class="col-4 d-grid gap-2">
                                 <button type="button" class="btn btn-outline-dark rounded-10 button" onclick="editButton(3)">
                                 <strong class="display-1">3</strong>
                                 </button>
                              </div>
                              <div class="col-4 d-grid gap-2">
                                 <button type="button" class="btn btn-outline-dark rounded-10 button" onclick="editButton(5)">
                                 <strong class="display-1">5</strong>
                                 </button>
                              </div>
                           </div>
                           <br>
                           <div class="row">
                              <div class="col-4 d-grid gap-2">
                                 <button type="button" class="btn btn-outline-dark rounded-10 button" onclick="editButton(2)">
                                 <strong class="display-1">2</strong>
                                 </button>
                              </div>
                              <div class="col-4 d-grid gap-2">
                                 <button type="button" class="btn btn-outline-dark rounded-10 button" onclick="editButton(4)">
                                 <strong class="display-1">4</strong>
                                 </button>
                              </div>
                              <div class="col-4 d-grid gap-2">
                                 <button type="button" class="btn btn-outline-dark rounded-10 button" onclick="editButton(6)">
                                 <strong class="display-1">6</strong>
                                 </button>
                              </div>
                           </div>
                           <br>
                           <br>
                           <div class="row">
                              <div class="col-12">
                                 <div class="d-grid gap-2">
                                    <button id="sendToDeviceButton" type="button" onclick="sendToDevice()" class="rounded-20 btn btn-success btn-sm rounded-10">
                                       <div id="savetoDeviceText">Save to pAB'</div>
                                       <div id="savetoDeviceLoading" hidden>
                                          <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                                          &nbsp;Please wait...
                                       </div>
                                    </button>
                                    <!-- <button id="disconnectButton" type="button" onclick="releaseActivePort()" class="rounded-20 btn btn-danger btn-sm rounded-10">
                                       <div>Disconnect</div>
                                    </button> -->
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>



            <!--KEY CONTENT MODAL-->
            <div class="modal fade" id="buttonContentModal" aria-hidden="true" aria-labelledby="buttonContentModalTitle" tabindex="-1">
               <div class="modal-dialog modal-dialog-centered">
                  <div class="modal-content">
                     <div class="modal-header">
                        <h5 class="modal-title" id="buttonContentModalTitle">Edit Key Content</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                     </div>
                     <div class="modal-body">
                        <input type="hidden" id="keyId" />
                        <textarea type="text" class="form-control" id="contentInput" placeholder="Key Content" rows="3"></textarea>
                        <div class="row justify-content-left pt-3">
                           <div class="col-1">
                              <button type="button" class="btn btn-outline-info rounded-5 borderless" onclick="addTab()">
                              <img src="./assets/tab-key.png" width="32" height="32">
                              </button>
                           </div>
                           <div class="col-1">
                              <button type="button" class="btn btn-outline-warning rounded-5 borderless" onclick="addEnter()">
                              <img src="./assets/return.png" width="32" height="32">
                              </button>
                           </div>
                        </div>
                     </div>
                     <div class="modal-footer mt-2">
                        <button class="btn btn-success" onclick="saveKeyData()">Save</button>
                     </div>
                  </div>
               </div>
            </div>


            <!--ALERT MODAL-->
            <div class="modal fade" id="alertModal">
               <div class="modal-dialog modal-dialog-centered modal-sm">
                  <div class="modal-content text-center">
                     <div class="modal-body text-center">
                        <h6>Congratulations :) &nbsp; pAB' is ready!</h6>
                     </div>
                  </div>
               </div>
            </div>

            <!--LOADER-->
            <div class="overlay" id="loader" hidden>
               <div class="d-flex justify-content-center">  
                 <div class="spinner-grow text-secondary" role="status" style="width: 3rem; height: 3rem; z-index: 20000;"></div>
               </div>
            </div>

         </div>
      </div>
   </body>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.min.js" integrity="sha384-skAcpIdS7UcVUC05LJ9Dxay8AXcDYfBJqt1CJ85S/CFujBsIzCIv+l9liuYLaMQ/" crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
   <script src="./com_helper.js"></script>
   <script src="./index.js"></script>
</html>
